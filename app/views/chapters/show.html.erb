<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item">
      <%= link_to sanitize(t('editions.title_and_editor', title: @chapter.edition.title, editor: @chapter.editor.username)), edition_path(@chapter.edition) %>
    </li>
    <li class="breadcrumb-item">
      <%= link_to sanitize(t('books.number_and_title', number: @chapter.book.position, title: @chapter.book.title)), edition_book_path(@chapter.edition, @chapter.book) %>
    </li>
    <li class="breadcrumb-item active" aria-current="page">
      <%= t('chapters.number_and_title', number: @chapter.position, title: @chapter.title) %>
    </li>
  </ol>
</nav>

<div class="text-center my-5">
  <h3 class="mb-3"><%= t('chapters.heading', number: @chapter.position) %></h2>
  <h2><%= @chapter.title %></h2>

  <% if @chapter.has_subtitle? %>
    <h4 class="mt-3 mb-4"><%= @chapter.subtitle %></h4>
  <% end %>
</div>

<% @chapter.texts.each do |text| %>
  <% chapter_text = @chapter.chapter_texts.detect { |chapter_text| chapter_text.text_id == text.id } %>
  <%= render partial: 'text_row', locals: { text: text, chapter_text: chapter_text } %>
<% end %>
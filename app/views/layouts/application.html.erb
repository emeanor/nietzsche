<!DOCTYPE html>
<html>
  <head>
    <title><%= t('app.name') %></title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

  <body>
    <div id="header">
      <div id="user-bar">
        <div id="content" class="pt-1">
          <% if user_signed_in? %>
            <i class="fas fa-users-cog me-1"></i><%= link_to t('users.topnav.settings'), edit_user_registration_path %>
            <i class="fas fa-sign-out-alt ms-3 me-1"></i><%= link_to t('users.topnav.sign_out'), destroy_user_session_path, method: :delete %>
          <% else %>
            <i class="fas fa-user-plus me-1"></i><%= link_to t('users.topnav.register'), new_user_registration_path, class: 'me-1' %>
            <i class="fas fa-sign-in-alt ms-3 me-1"></i><%= link_to t('users.topnav.sign_in'), new_user_session_path, class: 'me-1' %>
          <% end %>
        </div>
      </div>

      <nav class="navbar navbar-expand-md navbar-light bg-white border-bottom">
        <div class="container-fluid ps-1 pe-0">
          <%= link_to t('app.name_html'), root_path, class: 'navbar-brand logo fs-2' %>

          <ul class="navbar-nav fs-5">
            <li class="nav-item">
              <%= link_to t('texts.heading_navbar'), texts_path, class: 'nav-link' %>
            </li>
            <li class="nav-item">
              <%= link_to t('editions.heading_navbar'), editions_path, class: 'nav-link' %>
            </li>
            <!-- TODO: Decide about section names and make working links. -->
            <li class="nav-item">
              <%= link_to "Essays", editions_path, class: 'nav-link' %>
            </li>
            <li class="nav-item">
              <%= link_to "About", editions_path, class: 'nav-link' %>
            </li>
            <form class="d-flex ms-4">
              <!-- TODO: Make the search do something. -->
              <input class="form-control border border-secondary me-2 rounded-0" type="search" placeholder="Search" aria-label="Search">
            </form>
          </ul>
        </div>
      </nav>
    </div>

    <div id="body" class="border">
      <p class="notice"><%= notice %></p>
      <p class="alert"><%= alert %></p>
      <%= yield %>
    </div>
  </body>
</html>
